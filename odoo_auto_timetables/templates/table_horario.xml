<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <template id="horarios_extend.table_horario" name="Horarios">
            <div class="col-xs-12 col-sm-12 col-lg-12">
                <div class="table-responsive">
                    <table class="table table-condensed table-bordered">
                        <thead>
                            <tr class="info">
                                <th width="5%">#</th>
                                <th width="10%">
                                    Materia/Profesor
                                </th>
                                <th width="12%">Lunes
                                </th>
                                <th width="12%">Martes
                                </th>
                                <th width="12%">
                                    Miércoles
                                </th>
                                <th width="12%">Jueves
                                </th>
                                <th width="12%">
                                    Viernes
                                </th>
                                <th width="12%">Sábado
                                </th>
                            </tr>
                        </thead>
                        <tbody t-attf-id="table_materias_{{grupo.id}}">
                            <t t-set="index_row" t-value="0"/>
                            <t t-foreach="grupo.horario_id"
                               t-as="horario">
                                <tr t-att-data-id_materia="horario.subject_id.id"
                                    t-att-data-id_horario="grupo.id"
                                    t-att-data-id_horario_materia="horario.id"
                                    t-att-data-id_grupo="grupo.grupo_id.id"
                                    t-att-data-salon_id="grupo.grupo_id.salon_id.id"
                                    class="tr_open_modal_horario" t-attf-class="{{ 'active' if index_row %2 ==0   else 'warning'}}"

                                >
                                    <td>
                                        <t t-if="grupo.state=='borrador'">
                                            <button
                                                    type="button"
                                                    t-att-data-id_horario_materia="horario.id"
                                                    class="btn btn-xs btn-danger btnDeleteMareriaGrupo">
                                                <i class="glyphicon glyphicon-remove-sign">

                                                </i>
                                            </button>
                                        </t>
                                    </td>
                                    <td class="abrir_modal">
                                        <t t-esc="horario.subject_id.name"></t>
                                        <br/>
                                        <input type="hidden"
                                               t-attf-name="profesor[{{horario.id}}]"
                                               t-attf-value="{{horario.faculty_id.id}}"
                                               t-attf-id="id_profesor_{{horario.id}}"/>
                                        <b>
                                            <span t-attf-id="tag_profesor_{{horario.id}}"
                                                  class="tag-profesor">
                                                <t t-esc="horario.faculty_id.display_name"/>
                                            </span>
                                        </b>
                                    </td>
                                    <td class="dia lunes abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='lunes'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                    <td class="dia martes abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='martes'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                    <td class="dia miercoles abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='miercoles'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                    <td class="dia jueves abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='jueves'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                    <td class="dia viernes abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='viernes'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                    <td class="dia sabado abrir_modal">
                                        <t t-foreach="horario.classroom_horario_id" t-as="salon">
                                            <t t-if="salon.state=='sabado'">
                                                <span class="badge-responsive ">
                                                    <t t-esc="salon.hora_id.name"></t>
                                                    <br/>
                                                    <t t-esc="salon.name.name"></t>
                                                </span>
                                            </t>
                                        </t>
                                    </td>
                                </tr>
                                <t t-set="index_row" t-value="index_row+1"/>
                            </t>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-lg-12">
                <t t-if="grupo.state=='borrador'">
                    <button
                            t-att-data-id_horario="grupo.id"
                            class="btn btn-primary btnAddMateriaGrupo"
                    >
                        Agregar Materia
                    </button>
                </t>
            </div>
        </template>
    </data>
</odoo>